webpackJsonp([3],{2577:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=r.n(i),c=r(132),l=r(173),u=r.n(l),p=r(2613),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),m=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),f(t,[{key:"render",value:function(){var e=this.props;return s.a.createElement(c.a,e,s.a.createElement(u.a,{title:"Setting Page"}),s.a.createElement(p.a,null))}}]),t}(s.a.Component);t.default=m},2580:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),s=r.n(i),c=r(17),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=c.k.Item,p=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.type,r=e.loading,n=e.htmlType,o=e.title,a=e.onSubmit;return s.a.createElement(u,null,a?s.a.createElement(c.e,{type:t,loading:r,htmlType:n,onClick:this.props.onSubmit},o," s"):s.a.createElement(c.e,{type:t,loading:r,htmlType:n},o))}}]),t}(s.a.Component);p.defaultProps={type:"default",title:"Button",htmlType:"button",loading:!0},t.a=p},2583:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,s,c=r(0),l=r.n(c),u=r(17),p=r(22),f=r(283),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=u.v.Option,h={data:{ch:1,mode:0,sensor:0,manual:{status:0},timer:{size:3,mode:0,list:[[120,120],[1045,120]]},irrigation:{soil_upper:60,soil_lower:40,soil_detecting:30,soil_working:15,par_soil_setpoint:50,par_detecting:30,par_working:15,par_acc:1.5,mode:1,limit_time:3,descent_rate:.2},dfirrigation:{upper:60,lower:40,paracc:1,working:15,descent:50},advcond:{timer_list:[],timer_size:0,timer_flag:!1,sensor_condition:3,sensor_setpoint:30,sensor_flag:!1,sensor_direction:0,sensor:5,setpoint:600,working:15,detecting:30,direction:0},advsb:{timer_list:[],timer_size:0,timer_flag:!1,sensor_condition:3,sensor_setpoint:30,sensor_flag:!1,sensor_direction:0,sensor:5,upper:2e3,lower:1500,direction:0},advsbt:{timer_list:[],timer_size:0,timer_flag:!1,sensor_condition:3,sensor_setpoint:30,sensor_flag:!1,sensor_direction:0,sensor:5,upper:2e3,lower:1500,working:10,detecting:10,direction:0}},name:"New Preset"},y=function(e,t){return{preset:e.preset}},b=(i=Object(p.b)(y))(s=function(e){function t(){var e,r,a,i;n(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={presetNumber:void 0},a.renderOptions=function(){return a.props.preset.map(function(e,t){return l.a.createElement(d,{key:"chind"+t,value:t+1},e.name)})},a.onSelectPresetChange=function(e){a.setState({presetNumber:e}),a.props.onPresetSelect(e)},a.onNewPreset=function(){var e=a.props,t=e.dispatch,r=e.preset,n=JSON.parse(JSON.stringify(r));n.push(h),t(Object(f.d)(n)),a.onSelectPresetChange(n.length),a.setState({presetNumber:n.length})},a.onDeletePreset=function(){var e=a.props,t=e.dispatch,r=e.preset,n=JSON.parse(JSON.stringify(r));n.splice(a.state.presetNumber-1,1),t(Object(f.d)(n)),a.onSelectPresetChange(void 0),a.setState({presetNumber:void 0}),t(Object(f.a)(n))},i=r,o(a,i)}return a(t,e),m(t,[{key:"render",value:function(){this.props.form.getFieldDecorator;return l.a.createElement("div",null,l.a.createElement(u.v,{style:{width:"100%"},placeholder:"Select Preset",optionFilterProp:"children",onChange:this.onSelectPresetChange,value:this.state.presetNumber},this.renderOptions()),this.props.manage?l.a.createElement("div",{className:"d-flex flex-row-reverse p-3"},l.a.createElement("div",{className:"p-2"},l.a.createElement(u.e,{type:"primary",icon:"plus-circle",onClick:this.onNewPreset},"New")),l.a.createElement("div",{className:"p-2"},l.a.createElement(u.e,{type:"danger",icon:"delete",disabled:!this.state.presetNumber,onClick:this.onDeletePreset},"Delete"))):null)}}]),t}(c.Component))||s,v=u.k.create({mapPropsToFields:function(e){return{ch:u.k.createFormField({value:1})}}})(b);t.a=v},2613:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,s,c=r(0),l=r.n(c),u=(r(132),r(173)),p=(r.n(u),r(22)),f=r(17),m=(r(56),r(2580),r(283)),d=r(20),h=(r.n(d),r(2583)),y=r(2614),b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),v=(f.v.Option,(i=Object(p.b)())(s=function(e){function t(){var e,r,a,i;n(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return r=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={currentPreset:void 0},i=r,o(a,i)}return a(t,e),b(t,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(Object(m.c)())}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h5",{className:"text-black"},l.a.createElement("strong",{className:"text-capitalize"},"Preset"))),l.a.createElement("div",{className:"card-body"},l.a.createElement(h.a,{manage:!0,onPresetSelect:function(t){e.setState({currentPreset:t})}}))),void 0!==this.state.currentPreset?l.a.createElement(y.a,{currentPreset:this.state.currentPreset}):null)}}]),t}(l.a.Component))||s);t.a=v},2614:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),s=r.n(i),c=(r(132),r(173)),l=(r.n(c),r(22)),u=r(17),p=(r(56),r(2580)),f=r(283),m=r(20),d=r.n(m),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),y=(u.v.Option,function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<5;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}),b=function(e,t){return{preset:e.preset,loading:e.app.submitForms.preset}},v=function(e){function t(){var e,r,a,i;n(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return r=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={sec:120,time:d()()},a.onHandleSubmit=function(e){e.preventDefault();var t=a.props,r=t.dispatch,n=t.preset,o=t.currentPreset,i=t.form,s=JSON.parse(JSON.stringify(n));i.validateFields(function(e,t){e||(s[o-1].name=t.name,r(Object(f.d)(s)),r(Object(f.a)()))})},a.minToTime=function(e){var t=Math.floor(e/60),r=e%60;return(t<10?"0":"")+t+":"+(r<10?"0":"")+r},a.addTimer=function(){var e=a.props,t=e.currentPreset,r=e.dispatch,n=e.preset,o=e.form,i=a.state,s=i.sec,c=i.time;if(!s||!c)return void console.log("data is undefined");console.log(t,s,c.toString(),n[t-1]);var l=60*c.hour()+c.minute(),u=JSON.parse(JSON.stringify(n));u[t-1].data.timer.list.push([l,s]),u[t-1].data.timer.list.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),o.validateFields(function(e,n){e||(u[t-1].name=n.name,r(Object(f.d)(u)))})},a.deleteTime=function(e){var t=a.props,r=t.currentPreset,n=t.dispatch,o=t.preset,i=t.form,s=JSON.parse(JSON.stringify(o));s[r-1].data.timer.list.splice(e,1),s[r-1].data.timer.list.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),i.validateFields(function(e,t){e||(s[r-1].name=t.name,n(Object(f.d)(s)))})},i=r,o(a,i)}return a(t,e),h(t,[{key:"timerList",value:function(){var e=this,t=this.props;return t.preset[t.currentPreset-1].data.timer.list.map(function(t,r){var n=y();return s.a.createElement("li",{key:n,className:"list-group-item"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement(u.l,{style:{fontSize:"16px",color:"#08c"},type:"clock-circle"}),s.a.createElement("span",{style:{fontSize:"14px"}},e.minToTime(t[0])," - ",t[1]," Sec. "),s.a.createElement(u.e,{type:"danger",shape:"circle",icon:"delete",onClick:function(t){e.deleteTime(r)}})))})}},{key:"render",value:function(){var e=this,t=this.props.form,r=t.getFieldDecorator,n=(t.setFieldsValue,this.props.loading);return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h5",{className:"text-black"},s.a.createElement("strong",{className:"text-capitalize"},"Show Preset"))),s.a.createElement("div",{className:"card-body"},s.a.createElement(u.k,{onSubmit:this.onHandleSubmit},s.a.createElement(u.k.Item,{label:"Preset",style:{marginRight:"10px"}},r("name")(s.a.createElement(u.m,null))),s.a.createElement("div",{className:"d-flex flex-row",style:{marginBottom:"25px"}},s.a.createElement("div",{style:{marginRight:"10px"}},s.a.createElement(u.y,{format:"HH:mm",value:this.state.time,onChange:function(t){e.setState({time:t})}})),s.a.createElement("div",{style:{marginRight:"10px"}},s.a.createElement(u.n,{min:1,max:1e3,value:this.state.sec,onChange:function(t){e.setState({sec:t})}})),s.a.createElement(u.e,{type:"primary",icon:"download",htmlType:"button",style:{marginRight:"10px"},onClick:this.addTimer},"Add")),s.a.createElement("ul",{className:"list-group"},this.timerList()),s.a.createElement("div",{className:"d-flex flex-row-reverse p-2"},s.a.createElement("div",{className:"p-2"},s.a.createElement(p.a,{htmlType:"submit",title:"Submit",type:"primary",loading:!!n}))))))}}]),t}(s.a.Component),g=u.k.create({mapPropsToFields:function(e){return{working:u.k.createFormField({value:120}),ch:u.k.createFormField({value:1}),sec:u.k.createFormField({value:120}),time:u.k.createFormField({value:d()()}),name:u.k.createFormField({value:e.preset[e.currentPreset-1].name})}}})(v);t.a=Object(l.b)(b)(g)}});
//# sourceMappingURL=3.eed1b983.chunk.js.map