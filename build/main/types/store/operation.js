"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const redux_act_1 = require("redux-act");
const path_1 = require("path");
const fs_1 = require("fs");
const FILE_PATH = path_1.join(path_1.resolve(__dirname, '../../../../DB/operation.json'));
// import storejs from 'store'
const NS = `OP`;
exports.setOperation = redux_act_1.createAction(`${NS}SET_OP`);
const initState = fs_1.existsSync(FILE_PATH) ?
    require(FILE_PATH)
    : {
        "operation": {
            "operator-name": "John Doe",
            "crop-name": "Tomato",
            "measurement-time": ["06:00", "17:00"]
        },
        "supply-water": [900, 900, 900, 900],
        "number-plant": [49, 49, 49, 49, 49, 49, 49, 49],
        "number-drippers": [49, 49, 49, 49, 49, 49, 49, 49],
        "water-flow": [49, 49, 49, 49, 49, 49, 49, 49]
    };
exports.default = redux_act_1.createReducer({
    [exports.setOperation]: (state, payload) => {
        const combinedState = (Object.assign({}, state, payload));
        fs_1.writeFileSync(FILE_PATH, JSON.stringify(combinedState));
        return combinedState;
    }
}, initState);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlcmF0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3R5cGVzL3N0b3JlL29wZXJhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHlDQUFzRDtBQUN0RCwrQkFBa0M7QUFDbEMsMkJBQTJDO0FBQzNDLE1BQU0sU0FBUyxHQUFJLFdBQUksQ0FBQyxjQUFPLENBQUMsU0FBUyxFQUFFLCtCQUErQixDQUFDLENBQUMsQ0FBQztBQUU3RSw4QkFBOEI7QUFDOUIsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFBO0FBQ0YsUUFBQSxZQUFZLEdBQU8sd0JBQVksQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUE7QUFDM0QsTUFBTSxTQUFTLEdBQUcsZUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFBLENBQUM7SUFDcEMsT0FBTyxDQUFDLFNBQVMsQ0FBQztJQUNsQixDQUFDLENBQUE7UUFDRyxXQUFXLEVBQUU7WUFDVCxlQUFlLEVBQUUsVUFBVTtZQUMzQixXQUFXLEVBQUUsUUFBUTtZQUNyQixrQkFBa0IsRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUM7U0FDekM7UUFDRCxjQUFjLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7UUFDcEMsY0FBYyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztRQUNoRCxpQkFBaUIsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFDbkQsWUFBWSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztLQUNqRCxDQUFBO0FBQ0wsa0JBQWUseUJBQWEsQ0FBQztJQUN6QixDQUFDLG9CQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBQyxPQUFPLEVBQUMsRUFBRTtRQUM3QixNQUFNLGFBQWEsR0FBRyxtQkFBSyxLQUFLLEVBQUksT0FBTyxFQUFFLENBQUE7UUFDN0Msa0JBQWEsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFBO1FBQ3ZELE9BQU8sYUFBYSxDQUFDO0lBQ3pCLENBQUM7Q0FDSixFQUFDLFNBQVMsQ0FBQyxDQUFDIn0=