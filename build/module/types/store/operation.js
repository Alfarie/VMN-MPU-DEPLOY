import { createAction, createReducer } from 'redux-act';
import { join, resolve } from 'path';
import { writeFileSync, existsSync } from 'fs';
const FILE_PATH = join(resolve(__dirname, '../../../../DB/operation.json'));
// import storejs from 'store'
const NS = `OP`;
export const setOperation = createAction(`${NS}SET_OP`);
const initState = existsSync(FILE_PATH) ?
    require(FILE_PATH)
    : {
        "operation": {
            "operator-name": "John Doe",
            "crop-name": "Tomato",
            "measurement-time": ["06:00", "17:00"]
        },
        "supply-water": [900, 900, 900, 900],
        "number-plant": [49, 49, 49, 49, 49, 49, 49, 49],
        "number-drippers": [49, 49, 49, 49, 49, 49, 49, 49],
        "water-flow": [49, 49, 49, 49, 49, 49, 49, 49],
        "station-name": ["A1", "A2", "B1", "B2", "C1", "C2", "D1", "D2"],
    };
export default createReducer({
    [setOperation]: (state, payload) => {
        const combinedState = ({ ...state, ...payload });
        writeFileSync(FILE_PATH, JSON.stringify(combinedState));
        return combinedState;
    }
}, initState);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlcmF0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3R5cGVzL3N0b3JlL29wZXJhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsWUFBWSxFQUFFLGFBQWEsRUFBQyxNQUFNLFdBQVcsQ0FBQztBQUN0RCxPQUFPLEVBQUMsSUFBSSxFQUFFLE9BQU8sRUFBQyxNQUFNLE1BQU0sQ0FBQTtBQUNsQyxPQUFPLEVBQUMsYUFBYSxFQUFDLFVBQVUsRUFBQyxNQUFNLElBQUksQ0FBQTtBQUMzQyxNQUFNLFNBQVMsR0FBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSwrQkFBK0IsQ0FBQyxDQUFDLENBQUM7QUFFN0UsOEJBQThCO0FBQzlCLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQTtBQUNmLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBTyxZQUFZLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFBO0FBQzNELE1BQU0sU0FBUyxHQUFHLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQSxDQUFDO0lBQ3BDLE9BQU8sQ0FBQyxTQUFTLENBQUM7SUFDbEIsQ0FBQyxDQUFBO1FBQ0csV0FBVyxFQUFFO1lBQ1QsZUFBZSxFQUFFLFVBQVU7WUFDM0IsV0FBVyxFQUFFLFFBQVE7WUFDckIsa0JBQWtCLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDO1NBQ3pDO1FBQ0QsY0FBYyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO1FBQ3BDLGNBQWMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFDaEQsaUJBQWlCLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDO1FBQ25ELFlBQVksRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFDOUMsY0FBYyxFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQztLQUNuRSxDQUFBO0FBQ0wsZUFBZSxhQUFhLENBQUM7SUFDekIsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBQyxPQUFPLEVBQUMsRUFBRTtRQUM3QixNQUFNLGFBQWEsR0FBRyxDQUFDLEVBQUMsR0FBRyxLQUFLLEVBQUMsR0FBRyxPQUFPLEVBQUMsQ0FBQyxDQUFBO1FBQzdDLGFBQWEsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFBO1FBQ3ZELE9BQU8sYUFBYSxDQUFDO0lBQ3pCLENBQUM7Q0FDSixFQUFDLFNBQVMsQ0FBQyxDQUFDIn0=